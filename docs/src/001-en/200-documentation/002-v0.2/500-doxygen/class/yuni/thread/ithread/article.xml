<title>IThread</title>
<pragma:weight value="0.5" />
<pragma:toc visible="false" />
<tag name="doxygen" />
<tag name="dox:class" />



<h2>Base class interface for Threads (abstract)</h2>
<h3>Public typedef</h3>
<div class="doxygen_brief"><table class="nostyle"><tr><td></td><td><h4></h4></td></tr>
<tr><td class="doxygen_index"><code><span class="keyword">typedef</span></code></td><td class="doxygen_index_def"><code><span class="method"><a name="#classYuni_1_1Thread_1_1IThread_1a8e116cbeb2874776e8954bca81629fe8" href="#">ThreadingPolicy</a></span> : Policy::ObjectLevelLockable&lt;IThread&gt;</code></td></tr>
<tr><td class="doxygen_index"><code><span class="keyword">typedef</span></code></td><td class="doxygen_index_def"><code><span class="method"><a name="#classYuni_1_1Thread_1_1IThread_1a66b01c52f9b8f8c9129ca5cde1ee3d04" href="#">Ptr</a></span> : SmartPtr&lt;IThread&gt;</code></td></tr>
</table></div>

<h3>Public function</h3>
<div class="doxygen_brief"><table class="nostyle"><tr><td></td><td><h4>Constructor &amp; Destructor</h4></td></tr>
<tr><td class="doxygen_index"><code> </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1affe85d536af6c9a17f952165aaeea53e">IThread</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code> </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a90c936885087be28fa7e4e55f48c958d"><b> ~ </b>IThread</a></span>()</code></td></tr>
<tr><td></td><td><br /><h4>Execution flow</h4></td></tr>
<tr><td class="doxygen_index"><code>Error </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a1df5ec27846ac58cdf9ac6313105caf8">start</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>Error </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1afffb44d4983cebc25736ba48a280cf95">stop</a></span>(unsigned int timeout)</code></td></tr>
<tr><td class="doxygen_index"><code>Error </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a282203a441c6ddfeceeb73e983e4271b">wait</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>Error </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1ab2960ea2030367220303b493e5fdfc87">wait</a></span>(unsigned int timeout)</code></td></tr>
<tr><td class="doxygen_index"><code>Error </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a222767cf3201500510c3f7475c15711b">restart</a></span>(unsigned int timeout)</code></td></tr>
<tr><td class="doxygen_index"><code>void </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1ac96653c72d924d1822a148f09c255a72">gracefulStop</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>bool </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a6f6419557628fd56c546b2bc93d4cd3f">started</a></span>() <span class="keyword">const</span></code></td></tr>
<tr><td class="doxygen_index"><code>void </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a7850dbae6ad979fa88a5e8ac60d3a670">wakeUp</a></span>()</code></td></tr>
<tr><td></td><td><br /><h4>Operators</h4></td></tr>
<tr><td class="doxygen_index"><code>bool </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a5d149fcf4a9b3458bee90c1221245278">operator!</a></span>() <span class="keyword">const</span></code></td></tr>
</table></div>

<h3>Protected function</h3>
<div class="doxygen_brief"><table class="nostyle"><tr><td></td><td><h4></h4></td></tr>
<tr><td class="doxygen_index"><code>bool </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a483cf074830dbb3800357eec594e83f7">suspend</a></span>(const unsigned int delay)</code></td></tr>
<tr><td class="doxygen_index"><code>bool </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a1084c8123edeb2b6096161a74c380d75">shouldAbort</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>bool </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a43fe021bdabc8d7506dd07740d37833a">onStarting</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>bool </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a252fa9c09724daa531f7226882efeb1c">onExecute</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>void </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a584b9619c0f57f74ccb1819ecf4aefc3">onPause</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>void </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a4c6f86eb5abfdcef2583d8c1703f8edc">onStop</a></span>()</code></td></tr>
<tr><td class="doxygen_index"><code>void </code></td><td class="doxygen_index_def"><code> <span class="method"><a href="#classYuni_1_1Thread_1_1IThread_1a0ceb1efef352383902dc3dd9ff56bb99">onKill</a></span>()</code></td></tr>
</table></div>

<h2>Detailed Description</h2><table class="doxygen_table">
<tr><td class="doxnone"></td><td class="doxnone"><h3 class="doxygen_section">Public <code class="doxygen_visibility">Public</code></h3>
</td></tr>
<tr><td class="doxygen_typedef"></td><td class="doxnone"><div class="doxygen_brief"><b>The threading policy.<br /></b><div class="doxygen_name_spacer"></div>
<code><span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a8e116cbeb2874776e8954bca81629fe8" href="#">+ ThreadingPolicy</a></span>: <span class="keyword">typedef</span> Policy::ObjectLevelLockable&lt;IThread&gt;;
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
<tr><td class="doxygen_typedef"></td><td class="doxnone"><div class="doxygen_brief"><b>The most suitable smart pointer for the class.<br /></b><div class="doxygen_name_spacer"></div>
<code><span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a66b01c52f9b8f8c9129ca5cde1ee3d04" href="#">+ Ptr</a></span>: <span class="keyword">typedef</span> SmartPtr&lt;IThread&gt;;
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
<tr><td class="doxygen_enum"></td><td class="doxnone"><div class="doxygen_brief"><b>Get if this policy is thread-safe.<br /></b><div class="doxygen_name_spacer"></div>
<code><i>(unmanaged tag: 4)</i></code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
<tr><td class="doxnone"></td><td class="doxnone"><h3 class="doxygen_section">Constructor &amp; Destructor <code class="doxygen_visibility">Public</code></h3>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Default constructor.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1affe85d536af6c9a17f952165aaeea53e" href="#">+ IThread</a></span>:  ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Destructor.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a90c936885087be28fa7e4e55f48c958d" href="#">+ <b> ~ </b>IThread</a></span>:  ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
<tr><td class="doxnone"></td><td class="doxnone"><h3 class="doxygen_section">Execution flow <code class="doxygen_visibility">Public</code></h3>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Start the execution of the thread, if not already started.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a1df5ec27846ac58cdf9ac6313105caf8" href="#">+ start</a></span>: Error ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">If already started, the thread will be woke up<div><code>return</code>  True if the thread has been started<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Stop the execution of the thread and wait for it, if not already stopped.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1afffb44d4983cebc25736ba48a280cf95" href="#">+ stop</a></span>: Error (unsigned int timeout);
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc"><div class="doxygen_params">Parameters :</div><ul><li><code> timeout</code> The timeout in milliseconds before killing the thread (default: 5000ms)<br /></li></ul><div><code>return</code>  An error status (`errNone` if succeeded)<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Wait for an infinite amount of time for the end of the thread.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a282203a441c6ddfeceeb73e983e4271b" href="#">+ wait</a></span>: Error ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">The thread is not stopped during the process.<div><code>return</code>  An error status (`errNone` if succeeded)<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Wait for the end of the thread.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1ab2960ea2030367220303b493e5fdfc87" href="#">+ wait</a></span>: Error (unsigned int timeout);
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">The thread is not stopped during the process.<div class="doxygen_params">Parameters :</div><ul><li><code> timeout</code> The timeout in milliseconds<br /></li></ul><div><code>return</code>  An error status (`errNone` if succeeded)<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Restart the thread.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a222767cf3201500510c3f7475c15711b" href="#">+ restart</a></span>: Error (unsigned int timeout);
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc"><div class="doxygen_params">Parameters :</div><ul><li><code> timeout</code> The timeout in milliseconds before killing the thread (default: 5000ms)<br /></li></ul><div><code>return</code>  True if the thread has been stopped then started<br /></div><div><code>see</code> :  stop()<br /> start()<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Ask to Stop the execution of the thread as soon as possible.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1ac96653c72d924d1822a148f09c255a72" href="#">+ gracefulStop</a></span>: void ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">After a call to this method, the method suspend() will return true, which indicates that the thread should stop.<div><code>see</code> :  suspend()<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Get if the thread is currently running.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a6f6419557628fd56c546b2bc93d4cd3f" href="#">+ started</a></span>: bool () <span class="keyword">const</span>;
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc"><div><code>return</code>  True if the thread is running<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Interrupt the thread if suspended.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a7850dbae6ad979fa88a5e8ac60d3a670" href="#">+ wakeUp</a></span>: void ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">A call to this methid will interrupt a suspended state. This method has no effect if the thread is not started.<br />
</div>
</td></tr>
<tr><td class="doxnone"></td><td class="doxnone"><h3 class="doxygen_section">Operators <code class="doxygen_visibility">Public</code></h3>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Get if the thread is currently stopped.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a5d149fcf4a9b3458bee90c1221245278" href="#">+ operator!</a></span>: bool () <span class="keyword">const</span>;
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
<tr><td class="doxnone"></td><td class="doxnone"><h3 class="doxygen_section">Protected <code class="doxygen_visibility">Protected</code></h3>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Suspend the execution of the thread of X miliseconds.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a483cf074830dbb3800357eec594e83f7" href="#"># suspend</a></span>: bool (const unsigned int delay);
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">This is a convenient method to know if the thread should stop as soon as possible. If you do not want to suspend the execution of thread, you should use the method `shouldAbort()` instead.<br /><div><b>attention</b> :  This method must only be called inside the execution of the thread<br /></div><div class="doxygen_params">Parameters :</div><ul><li><code> delay</code> The delay in miliseconds. O will only return if the thread should exit<br /></li></ul><div><code>return</code>  True indicates that the thread should stop immediately<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Get if the thread should abort as soon as possible.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a1084c8123edeb2b6096161a74c380d75" href="#"># shouldAbort</a></span>: bool ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">This is a convenient routine instead of `suspend(0)`, but a bit faster.<div><b>attention</b> :  This method must only be called inside the execution of the thread<br /></div><div><code>return</code>  True indicates that the thread should stop immediately<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Event : The thread has just been started.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a43fe021bdabc8d7506dd07740d37833a" href="#"># onStarting</a></span>: bool ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">This event is executed in the thread which has just been created.<br /> It can be directly stopped if returning false. However the `onStopped` event will not be called.<br /><div><code>return</code>  True to continue the execution of the thread, false to abort the execution right now<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Event : The thread is running.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a252fa9c09724daa531f7226882efeb1c" href="#"># onExecute</a></span>: bool ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">The thread has been successfully started (and `onStarting()` returned true).<br /> If this method returns false, the thread will be stopped (and the thread context will be destroyed). The method `onStopped` will be called. Otherwise, the thread will be paused for an infinite amount of time and the method onPause() will be called. In this case it will be possible to re-run it in calling wakeUp() or start() .<br /><div><b>attention</b> :  This method should check from time to time if the thread has to stop. For that, a call to `suspend(0)` is recommended.<source type="cpp">     if  ( suspend ())
        return ;
</source>
<br /></div><div><code>return</code>  True to pause the thread and wait a `wake up` signal, False to effectively stop it.<br /></div><div><code>see</code> :  suspend()<br /> onStarting()<br /> onStopped()<br /> wakeUp()<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Event : The thread has finished its job and is waiting for being re-executed.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a584b9619c0f57f74ccb1819ecf4aefc3" href="#"># onPause</a></span>: void ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">This event will be fired if the method onExecute returns false.<br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Event : The thread has been gracefully stopped.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a4c6f86eb5abfdcef2583d8c1703f8edc" href="#"># onStop</a></span>: void ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">This event is executed in the thread.<br /><div><b>attention</b> :  You should not rely on this event to release your resources. There is no guaranty that this method will be called, especially if the thread has been killed because it did not stop before the timeout was reached.<br /></div><br />
</div>
</td></tr>
<tr><td class="doxygen_fun"></td><td class="doxnone"><div class="doxygen_brief"><b>Event : The thread has been killed.<br /></b><div class="doxygen_name_spacer"></div>
<code> <span class="method"><a name="classYuni_1_1Thread_1_1IThread_1a0ceb1efef352383902dc3dd9ff56bb99" href="#"># onKill</a></span>: void ();
</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">This method may be called from any thread<br />
</div>
</td></tr>
<tr><td class="doxnone"></td><td class="doxnone"><h3 class="doxygen_section">Protected <code class="doxygen_visibility">Protected</code></h3>
</td></tr>
<tr><td class="doxygen_var"></td><td class="doxnone"><div class="doxygen_brief"><b>Mutex.<br /></b><div class="doxygen_name_spacer"></div>
<code><span class="method"><a href="#"># pMutex</a></span>: Mutex;</code>
</div></td></tr><tr><td class="doxnone doxreturn"></td><td class="doxnone">
<div class="doxygen_name_spacer"></div>
<div class="doxygen_desc">
</div>
</td></tr>
</table>


